---
import { Icon } from 'astro-icon/components';
---

<nav class="bg-[#F3F4F6] text-[#1F3C88] border-b border-[#E0E0E0] shadow-sm z-40 relative">
  <div class="max-w-screen-xl mx-auto px-4 py-3 flex items-center justify-between">
    <!-- Logo como enlace -->
    <a href="/" aria-label="Ir a la página principal">
      <img src="/images/iuplogo.png" alt="Instituto Universitario Puebla" class="h-8 w-auto" />
    </a>

    <!-- Botón hamburguesa -->
    <button
      id="menu-toggle"
      class="md:hidden text-[#1F3C88] focus:outline-none"
      aria-label="Abrir o cerrar menú"
      aria-expanded="false"
    >
      <Icon name="mdi:menu" class="h-6 w-6" id="menu-icon" />
    </button>

    <!-- Menú horizontal (solo escritorio) -->
    <ul class="hidden md:flex space-x-6 font-medium">
      <li><a href="/" class="hover:text-[#F57C00] transition">Inicio</a></li>
      <li><a href="/licenciaturas" class="hover:text-[#F57C00] transition">Licenciaturas</a></li>
      <li><a href="/ingenierias" class="hover:text-[#F57C00] transition">Ingenierías</a></li>
      <li><a href="/maestrias" class="hover:text-[#F57C00] transition">Maestrías</a></li>
      <li><a href="/doctorados" class="hover:text-[#F57C00] transition">Doctorados</a></li>
      <li><a href="/contacto" class="hover:text-[#F57C00] transition">Contacto</a></li>
    </ul>
  </div>

  <!-- Menú móvil -->
  <ul
    id="menu"
    class="hidden flex-col space-y-4 font-medium px-4 pb-4 bg-[#F3F4F6] z-[60] relative"
    role="navigation"
  >
    <li><a href="/" class="hover:text-[#F57C00] transition">Inicio</a></li>
    <li><a href="/licenciaturas" class="hover:text-[#F57C00] transition">Licenciaturas</a></li>
    <li><a href="/ingenierias" class="hover:text-[#F57C00] transition">Ingenierías</a></li>
    <li><a href="/maestrias" class="hover:text-[#F57C00] transition">Maestrías</a></li>
    <li><a href="/doctorados" class="hover:text-[#F57C00] transition">Doctorados</a></li>
    <li><a href="/contacto" class="hover:text-[#F57C00] transition">Contacto</a></li>
  </ul>
</nav>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggle = document.getElementById('menu-toggle');
    const menu = document.getElementById('menu');
    const icon = document.getElementById('menu-icon');

    if (!toggle || !menu || !icon) return;

    toggle.addEventListener('click', () => {
      const isOpen = !menu.classList.contains('hidden');

      if (isOpen) {
        menu.classList.add('hidden');
        menu.classList.remove('flex', 'flex-col');
        icon.setAttribute('name', 'mdi:menu');
        toggle.setAttribute('aria-expanded', 'false');
      } else {
        menu.classList.remove('hidden');
        menu.classList.add('flex', 'flex-col');
        icon.setAttribute('name', 'mdi:close');
        toggle.setAttribute('aria-expanded', 'true');
      }
    });

    menu.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        menu.classList.add('hidden');
        menu.classList.remove('flex', 'flex-col');
        icon.setAttribute('name', 'mdi:menu');
        toggle.setAttribute('aria-expanded', 'false');
      });
    });
  });
</script>

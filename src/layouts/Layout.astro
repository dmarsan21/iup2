---
// Importación de componentes
import Top from '../components/Top.astro'
import Header from '../components/Header.astro'
import Footer from '../components/Footer.astro'
import '../styles/global.css'
---
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Instituto Universitario Puebla</title>
  </head>
  <body>
    <!-- Encabezado fijo con Topbar y Header -->
    <header class="fixed top-0 left-0 w-full z-50">
      <div id="header-container" class="relative pt-[26px] transition-all duration-500 ease-in-out">
        <Top />
        <Header />
      </div>
    </header>

    <!-- Contenido principal -->
    <main class="pt-[80px]">
      <slot />
    </main>

    <!-- Pie de página -->
    <Footer />

    <!-- Scripts para comportamiento del Topbar y menú móvil -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const topbar = document.getElementById('topbar');
        const container = document.getElementById('header-container');
        const toggle = document.getElementById('menu-toggle');
        const menu = document.getElementById('menu');

        // Comportamiento del Topbar al hacer scroll
        if (topbar && container) {
          container.style.paddingTop = '26px';
          window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset;
            if (currentScroll > 10) {
              topbar.style.transform = 'translateY(-100%)';
              container.style.paddingTop = '0px';
            } else {
              topbar.style.transform = 'translateY(0)';
              container.style.paddingTop = '26px';
            }
          });
        }

        // Comportamiento del menú móvil
        if (toggle && menu) {
          toggle.addEventListener('click', () => {
            menu.classList.toggle('hidden');
          });
        }
      });
    </script>

    <!-- Estilos base -->
    <style>
      html,
      body {
        margin: 0;
        width: 100%;
        height: 100%;
      }
    </style>
  </body>
</html>
